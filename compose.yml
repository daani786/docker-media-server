services:
  portainer:
    image: portainer/portainer-ce:latest
    container_name: portainer
    ports:
      - 9000:9000
    volumes:
      - portainer_data:/data
      - /var/run/docker.sock:/var/run/docker.sock
    restart: unless-stopped
    # networks:
    #   media-apps:
    #     ipv4_address: 192.168.100.1
  ### filebrowser ###
  filebrowser:
    image: filebrowser/filebrowser
    container_name: filebrowser
    user: ${UID}:${GID}
    ports:
      - ${FB_WEBUI_PORT}:80
    volumes:
      - /:/srv #change user to your name or use ~/
      - ${FB_DB_PATH}:/database.db #create the filebrowser.db file before deploying
    restart: always
    # networks:
    #   media-apps:
    #     ipv4_address: 192.168.100.2

volumes:
  portainer_data:

networks:
  media-apps:
    ipam:
      driver: default
      config:
        - subnet: 192.168.100.0/24
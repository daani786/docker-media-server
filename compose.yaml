services:

  ## filebrowser ###
  filebrowser:
    container_name: filebrowser
    image: filebrowser/filebrowser
    restart: always
    volumes:
      - /:/srv #change user to your name or use ~/
      - ${FB_DB_PATH}:/database.db #create the filebrowser.db file before deploying
    ports:
      - ${FB_WEBUI_PORT}:80
    user: ${UID}:${GID}
    networks:
      media-apps:
        ipv4_address: 192.168.100.3

  ### transmission ###
  transmission:
    container_name: transmission
    image: lscr.io/linuxserver/transmission:latest
    restart: unless-stopped
    volumes:
      - ${TR_CONFIG_PATH}:/config
      - ${TR_INCOMPLETE_PATH}:/downloads/incomplete #optional
      - ${ALL_MEDIA_PATH}:/downloads/complete
    ports:
      - 9091:9091
      - 51413:51413
      - 51413:51413/udp
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
      - TRANSMISSION_WEB_HOME= #optional
      - USER=${TR_USERNAME} #optional
      - PASS=${TR_PASSWORD} #optional
      - WHITELIST= #optional
      - PEERPORT= #optional
      - HOST_WHITELIST= #optional
    networks:
      media-apps:
        ipv4_address: 192.168.100.4

  ### jellyfin ###
  jellyfin:
    image: jellyfin/jellyfin
    container_name: jellyfin
    network_mode: host
    restart: always
    volumes:
      - ${JF_CONFIG_PATH}:/config
      - ${JF_CACHE_PATH}:/cache
      - type: bind
        source: ${ALL_MEDIA_PATH}
        target: /media
    # networks:
    #   media-apps:
    #     ipv4_address: 192.168.100.5

  ### ariang ###
  ariang:
    image: hurlenko/aria2-ariang
    container_name: ariang
    ports:
      - 443:8080
    volumes:
      - ${AG_CONFIG_PATH}:/aria2/conf
      - ${ALL_MEDIA_PATH}:/aria2/data
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - RPC_SECRET=${AG_SECRET}
      - ARIA2RPCPORT=443
      - BASIC_AUTH_USERNAME=${AG_USERNAME}
      - BASIC_AUTH_PASSWORD=${AG_PASSWORD}
    restart: always
    networks:
      media-apps:
        ipv4_address: 192.168.100.6

  ### ariang ###
  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
      - WEBUI_PORT=${QBT_WEBUI_PORT}
      - TORRENTING_PORT=6881
    volumes:
      - ${QBT_CONFIG_PATH}:/config
      - ${QBT_DOWNLOADS_INCOMPLETE_PATH}:/downloads/incomplete
      - ${QBT_DOWNLOADS_PATH}:/downloads
    ports:
      - ${QBT_WEBUI_PORT}:${QBT_WEBUI_PORT}
      - 6881:6881
      - 6881:6881/udp
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.7

  ### radarr ###
  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
    volumes:
      - ${RD_CONFIG_PATH}:/config
      - ${RD_MOVIES_PATH}:/movies #optional
      - ${RD_CLIENT_DOWNLOADS_PATH}:/downloads #optional
    ports:
      - ${RD_WEBUI_PORT}:${RD_WEBUI_PORT}
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.8

  ### sonarr ###
  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
    volumes:
      - ${SO_CONFIG_PATH}:/config
      - ${SO_TV_PATH}:/tv #optional
      - ${SO_CLIENT_DOWNLOADS_PATH}:/downloads #optional
    ports:
      - ${SO_WEBUI_PORT}:${SO_WEBUI_PORT}
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.9

  ### bazarr ###
  bazarr:
    image: lscr.io/linuxserver/bazarr:latest
    container_name: bazarr
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
    volumes:
      - ${BZ_CONFIG_PATH}:/config
      - ${BZ_MOVIES_PATH}:/movies #optional
      - ${BZ_TV_PATH}:/tv #optional
    ports:
      - ${BZ_WEBUI_PORT}:${BZ_WEBUI_PORT}
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.10

  ### prowlarr ###
  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=${TZ}
    volumes:
      - ${PR_CONFIG_PATH}:/config
    ports:
      - ${PR_WEBUI_PORT}:${PR_WEBUI_PORT}
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.11

  ### flaresolverr ###
  flaresolverr:
    # DockerHub mirror flaresolverr/flaresolverr:latest
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    environment:
      - LOG_LEVEL=${FL_LOG_LEVEL}
      - LOG_FILE=${FL_LOG_FILE}
      - LOG_HTML=${FL_LOG_HTML}
      - CAPTCHA_SOLVER=${FL_CAPTCHA_SOLVER}
      - TZ=${TZ}
    ports:
      - ${FL_WEBUI_PORT}:${FL_WEBUI_PORT}
    volumes:
      - ${FL_CONFIG_PATH}:/config
    restart: unless-stopped
    networks:
      media-apps:
        ipv4_address: 192.168.100.12

networks:
  media-apps:
    ipam:
      driver: default
      config:
        - subnet: 192.168.100.0/24
